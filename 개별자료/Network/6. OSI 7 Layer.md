## 6. OSI 7 Layer

### 1. Physical Layer

- 0과 1의 나열을 아날로그 신호로 바꾸어 전선으로 흘려 보내고,
  (encoding)
- 아날로그 신호가 들어오면 0과 1의 나열로 해석하여
  (decoding)
- 물리적으로 연결된 두 대의 컴퓨터가 0과 1의 나열을 주고받을 수 있게 해주는 모듈
- 1계층 모듈은 **하드웨어적으로 구현**되어있음.
    - 하드웨어도 input-output 구조는 동일하므로 유사하게 표현할 수 있음.

******[Physical Layer 인코딩/디코딩의 함수적 표현]******

1. 1계층 encoder

    ```java
    Signal encode(data) {
    		...
    }
    ```

2. 1계층 decoder

    ```java
    Data decoder(signal) {
    		...
    }
    ```

   ### 2. Data-Link Layer

   “여러 대의 컴퓨터가 통신하려면?”

    - 각 컴퓨터 간 점대점 전선 연결
        - 전선 꽂을 구멍도 많이 필요하고 전선도 많이 필요
        - 통신하려는 컴퓨터가 많아지면 많아질수록 비용 면에서 비효율적
    - 하나의 선에 여러 대의 컴퓨터가 연결 (버스형)
        - 하나의 데이터를 전송하게 되면 선에 연결된 모든 컴퓨터에 Signal 전송
        - 원하지 않는 컴퓨터에도 신호가 전달되게 됨
        - **스위치** : 신호의 목적지를 정해주는 역할
          → 스위치를 통해 **하나의 네트워크 형성**
          → 하나의 **공유기**
        - **라우터** : 서로 다른 스위치를 연결하여 서로 다른 네트워크에 속한 컴퓨터끼리 통신 가능하게 만들어주는 장비

   > 스위치와 라우터의 계층구조를 바탕으로, 전 세계의 컴퓨터들이 계층구조로 연결되어 있는 것을 **인터넷** 이라고 한다.
   >

   **************************“여러 대의 컴퓨터가 통신하는 방법 - 예시”**************************

    - 네 대의 컴퓨터가 하나의 스위치에 연결되어 있음
    - 하나의 컴퓨터에 나머지 세 대의 컴퓨터가 각자 데이터를 보냄
      (0101, 1111, 0001)
    - 데이터를 받는 컴퓨터에서는 한번에 받은 데이터를 어떻게 끊어읽는지에 따라
      데이터가 올바르게 해석될지 잘못 해석될지 정해지게 됨
    - 이러한 오류 가능성을 예방하기 위해 송신자는 데이터의 앞 뒤에 **특정한 비트열**을 붙이게 됨

   ********************************************“Data-Link Layer란?”********************************************

    - 같은 네트워크에 있는 여러 대의 컴퓨터들이 데이터를 주고받기 위해서 필요한 모듈
    - **Framing**은 Data-Link Layer에 속하는 작업들 중 하나
        - Frame : 특정한 비트열로 원본 데이터의 앞 뒤를 감싼 것
    - Data-Link Layer는 **랜카드**에 구현되어 있음

   ### 3. Network Layer

    - A 컴퓨터가 B 컴퓨터에 데이터를 전송하고자 함
    - A는 데이터 앞에 목적지(B)의 주소를 붙임
        - IP주소 : 각 컴퓨터들이 갖는 고유한 주소
        - IP + data 형식 → 127.0.0.1 data
    - 라우팅을 통해 목적지로 데이터 전달

   ******“결국 Network Layer란?”******

    - 수많은 네트워크들의 연결로 이루어지는 inter-network 속에서
    - 어딘가에 있는 목적지 컴퓨터로 데이터를 전송하기 위해
    - IP 주소를 이용하여 길을 찾고 (= **Routing**)
    - 자신 다음의 라우터에게 데이터를 넘겨주는 것 (=**Forwarding**)
    - 네트워크 계층은 OS 커널에 소프트웨어적으로 구현되어 있음

   ### 4. Transport Layer

    - Network Layer까지의 동작을 통해 인터넷 상의 모든 컴퓨터가 서로 통신할 수 있게 되었음
    - 데이터를 받는 수신자는 전 세계의 컴퓨터로부터 데이터를 받을 수 있음
    - 그런데 컴퓨터에는 여러 개의 프로그램들이 실행되고 있었음
    - 컴퓨터는 데이터들을 프로세스들에게 나누어주고자 함
    - 데이터를 받고자 하는 프로세스들은 포트 번호(Port Number)를 갖고 있어야 함
        - 포트 번호 : 하나의 컴퓨터에서 동시에 실행되고 있는 프로세스들이 **서로 겹치지 않게** 가져야 하는 정수 값
    - 송신자는 데이터를 보낼 때 데이터를 받을 수신자 컴퓨터에 있는 프로세스의 포트 번호를 붙여서 보내야 함
        - 따라서, 송신자는 수신자 컴퓨터의 프로세스 포트 번호를 알고 있어야 함

   ************************************************************“결국 Transport Layer란?”************************************************************

    - Port Number를 사용하여
    - 도착지 컴퓨터의 최종 도착지인 **프로세스**까지
    - 데이터가 도달하게 하는 모듈
    - 전송 계층은 OS 커널에 소프트웨어적으로 구현되어 있음

   ### 5. Application Layer

   ******“OSI 7계층 vs TCP/IP 모델”******

    - 현대의 인터넷은 OSI 모델이 아니라 TCP/IP 모델을 따르고 있음
    - TCP/IP 모델도 OSI 모델과 마찬가지로 네트워크 시스템에 대한 모델
    - 현대의 인터넷이 TCP/IP 모델을 따르는 이유는
      OSI 모델이 TCP/IP 모델과의 시장 점유 싸움에서 졌기 때문임
        - OSI 7계층의 5, 6, 7계층(Session, Presentation, Application)이
          TCP/IP 모델에선 Application Layer 하나에 모두 포함된다.
        - TCP/IP Original Model에서는 Link-Internet-Transport-Application 이었음

   ****************************************************************“TCP/IP 소켓 프로그래밍”****************************************************************

   > 운영체제의 Transport Layer에서 제공하는 API를 활용해서 통신 가능한 프로그램을 만드는 것
   >
    - 소켓 프로그래밍 만으로도 클라이언트, 서버 프로그램을 따로따로 만들어서 동작 시킬 수 있음
    - 뿐만 아니라, 누구나 자신만의 Application Layer 인코더와 디코더를 만들 수 있음